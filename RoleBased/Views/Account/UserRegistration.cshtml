@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}


@model RoleBased.Models.ViewModel.RegistrationModel

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Create new User</title>
</head>
<body>
    <div class="container mt-4" style="overflow-x: scroll; height: 648px; width:100%;">
        <div class="row">
            <div class="col-md-6">

                <form asp-action="Registration" method="POST" enctype="multipart/form-data">
                    <div class="form-group">
                        <h3>Create new Users</h3>
                        <label>Name</label>
                        <input type="text" class="form-control" asp-for="Name" />
                        <span class="text-danger" asp-validation-for="Name"></span>

                        <label>Username</label>
                        <input type="text" class="form-control" asp-for="Username" />
                        <span class="text-danger" asp-validation-for="Username"></span>

                        <label>Email</label>
                        <input type="text" class="form-control" asp-for="Email" />
                        <span class="text-danger" asp-validation-for="Email"></span>

                        <label>Password</label>
                        <input type="password" class="form-control" asp-for="Password" />
                        <span class="text-danger" asp-validation-for="Password"></span>

                        <label>Password Confirmed</label>
                        <input type="password" class="form-control" asp-for="ConfirmPassword" />
                        <span class="text-danger" asp-validation-for="ConfirmPassword"></span>

                        <label>Latitude</label>
                        <input type="text" class="form-control" asp-for="Latitude" />
                        <span class="text-danger" asp-validation-for="Latitude"></span>

                        <label>Longitude</label>
                        <input type="text" class="form-control" asp-for="Longitude" />
                        <span class="text-danger" asp-validation-for="Longitude"></span>



                        <div class="form-group">
                            <label>Roles</label>
                            <select id="rolesId" asp-for="Role" class="form-control" asp-items="@Model.RoleList">
                                <option value="">Select Role</option>
                            </select>
                            <span asp-validation-for="Role" class="text-danger"></span>
                        </div>

                        <div class="form-group" id="categoriesDiv">
                            <label>Categories</label>
                            @Html.DropDownListFor(x => x.Categories_Id, (SelectList)ViewBag.CategoryDropDown, "Select Employees", new { @class = "form-control required", @id = "categories" })
                        </div>





                        

                        @*<div class="form-group">
                            <label>Roles</label>
                            <select id="rolesId" asp-for="Role" class="form-control" asp-items="@Model.RoleList">
                                <option value="">Select Role</option>
                            </select>
                            <span asp-validation-for="Role" class="text-danger"></span>
                        </div>

                        <span class="text-danger" asp-validation-for="Role"></span>

                        <label for="categories" id="categoriesLabel">Categories</label>
                        @Html.DropDownListFor(x => x.Categories_Id, (SelectList)ViewBag.CategoryDropDown, "Select Employees", new { @class = "form-control required", @id = "categories" })*@



                        @*<label>Categories</label>
                        @Html.DropDownListFor(x=>x.Categories_Id, (SelectList)ViewBag.CategoryDropDown, "Select Employees", new {@class="form-control required", @id="categories"})*@

                        @if (TempData["msg"] != null)
                        {
                            <div class="form-group">
                                @TempData["msg"]
                            </div>
                        }
                        <button type="submit" class="btn " style="background-color:#33b482; color:#fff;">Create</button>
                        @*<a class="btn btn-info" href="/UserAuthentication/login">Already have account?</a>*@


                    </div>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $('#categoriesDiv').hide(); // Hide the 'Categories' div initially

        $('#rolesId').change(function () {
            //var selectedRole = $(this).val();
            var selectedRoleId = $(this).find('option:selected').val();

            if (selectedRoleId === '83d2a1f5-f368-4bf6-8f6c-1c36ceaafe8b') {
                $('#categoriesDiv').show(); // Show the 'Categories' div if the specific option is selected
            } else {
                $('#categoriesDiv').hide(); // Hide the 'Categories' div for other options
            }
        });
    });

</script>


